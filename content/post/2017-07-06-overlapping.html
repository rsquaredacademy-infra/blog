---
title: Overlapping
date: '2017-07-06'
slug: overlapping
topics:
  - data-visualization
tags:
  - ggplot2
draft: yes
---



<p><a href="https://twitter.com/login?redirect_after_login=%2Fhome%3Fstatus"><img src="http://i.imgur.com/tXSoThF.png" alt="Twitter" /></a>
<a href="https://www.facebook.com/sharer/sharer.php?u="><img src="http://i.imgur.com/P3YfQoD.png" alt="Facebook" /></a></p>
<div id="introduction" class="section level3">
<h3>Introduction</h3>
<hr>
<p>This is the 18th post in the series <strong>Elegant Data Visualization with ggplot2</strong>. In the previous <a href="https://rsquaredacademy.github.io/blog/post/legend-part-6/">post</a>, we learnt how to modify the legend title, label and bar. In this post, we will learn to position the geoms to avoid overlapping.</p>
<p><br></p>
</div>
<div id="libraries-code-data" class="section level3">
<h3>Libraries, Code &amp; Data</h3>
<hr>
<p>We will use the following libraries in this post:</p>
<ul>
<li><a href="http://readr.tidyverse.org/">readr</a></li>
<li><a href="http://ggplot2.tidyverse.org/">ggplot2</a></li>
</ul>
<p>All the data sets used in this post can be found <a href="https://github.com/rsquaredacademy/datasets">here</a> and code can be downloaded from <a href="https://gist.github.com/rsquaredacademy/ee7f58a871679f9655a1222ccc5db72d">here</a>.</p>
<p><br></p>
</div>
<div id="dodge" class="section level3">
<h3>Dodge</h3>
<hr>
<p>Preserve the vertical position while adjusting the horizontal position.</p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(cyl), fill = factor(vs))) +
  geom_bar()</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(cyl), fill = factor(vs))) +
  geom_bar(position = position_dodge(width = 1))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos3-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
</div>
<div id="jitter" class="section level3">
<h3>Jitter</h3>
<hr>
<p>Add some noise to data points for better visualization.</p>
<pre class="r"><code>ggplot(data = mtcars, aes(am, vs)) +
  geom_jitter()</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos4-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(am), factor(vs))) +
  geom_jitter()</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos5-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(am), factor(vs))) +
  geom_jitter(position = position_jitter(width = 0.1, height = 0.1))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos6-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(am), factor(vs))) +
  geom_jitter(position = position_jitter(width = 0.05, height = 0.3))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos7-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(data = mtcars, aes(am, vs)) +
  geom_jitter(position = position_jitter(width = 0.1, height = 0.1))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos8-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
</div>
<div id="nudge" class="section level3">
<h3>Nudge</h3>
<hr>
<p>Use with geom_text. Useful for adjusting text around points.</p>
<pre class="r"><code>df &lt;- data.frame(
  x = c(1,3,2,5),
  y = c(&quot;a&quot;,&quot;c&quot;,&quot;d&quot;,&quot;c&quot;)
)</code></pre>
<p><br></p>
<pre class="r"><code>ggplot(df, aes(x, y)) +
  geom_point() +
  geom_text(aes(label = y),
            position = position_nudge(y = -0.1, x = -0.2))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos12-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
</div>
<div id="fill" class="section level3">
<h3>Fill</h3>
<hr>
<p>Proportional bar plots.</p>
<pre class="r"><code>ggplot(data = mtcars, aes(factor(cyl), fill = factor(gear))) +
  geom_bar(position = &quot;fill&quot;)</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos10-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
</div>
<div id="stack" class="section level3">
<h3>Stack</h3>
<hr>
<pre class="r"><code>series &lt;- data.frame(
  time = c(rep(1, 4),rep(2, 4), rep(3, 4), rep(4, 4)),
  type = rep(c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;), 4),
  value = rpois(16, 10)
)

series$type2 &lt;- factor(series$type, levels = c(&#39;c&#39;, &#39;b&#39;, &#39;d&#39;, &#39;a&#39;))</code></pre>
<p><br></p>
<pre class="r"><code>ggplot(series, aes(time, value, group = type)) +
  geom_line(aes(colour = type)) +
  geom_point(aes(colour = type))</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos13-1.png" width="672" style="display: block; margin: auto;" /></p>
<p><br></p>
<pre class="r"><code>ggplot(series, aes(time, value, group = type)) +
  geom_line(aes(colour = type), position = &quot;stack&quot;) +
  geom_point(aes(colour = type), position = &quot;stack&quot;)</code></pre>
<p><img src="/post/2017-07-06-overlapping_files/figure-html/pos14-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="summary" class="section level3">
<h3>Summary</h3>
<hr>
<p><br></p>
</div>
<div id="up-next.." class="section level3">
<h3>Up Next..</h3>
<hr>
<p>In the next <a href="https://rsquaredacademy.github.io/blog/post/ggplot2-statistical-plots/">post</a>, we will learn an alternative method to build plots.</p>
<p><br></p>
</div>
