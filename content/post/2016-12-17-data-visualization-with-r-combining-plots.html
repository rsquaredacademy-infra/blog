---
title: Data Visualization with R - Combining Plots
date: '2016-12-17'
slug: data-visualization-with-r-combining-plots
categories:
  - data-visualization
tags:
  - base
  - visualization
  - facets
---



<div id="introduction" class="section level3">
<h3>Introduction</h3>
<p>This is the tenth post in the series <strong>Data Visualization With R</strong>. In the previous <a href="https://rsquaredacademy.github.io/blog/post/data-visualization-with-r-text-annotations/">post</a>, we learnt how to add text annotations to plots. In this post, we will learn how to combine multiple plots. Often, it is useful to have multiple plots in the same frame as it allows us to get a comprehensive view of a particular variable or compare among different variables. The Graphics package offers two methods to combine multiple plots. <code>par()</code> can be used to set graphical parameters regarding plot layout using the mfcol and mfrow arguments. <code>layout()</code> serves the same purpose but offers more flexibility by allowing us to modify the height and width of rows and columns.</p>
<p><code>par()</code> allows us to customize the graphical parameters(title, axis, font, color, size) for a particular session. For combining multiple plots, we can use the graphical parameters mfrow and mfcol. These two parameters create a matrix of plots filled by rows and columns respectively. Let us combine plots using both the above parameters.</p>
<table>
<thead>
<tr class="header">
<th align="left">Option</th>
<th align="left">Description</th>
<th align="left">Arguments</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">mfrow</td>
<td align="left">Fill by rows</td>
<td align="left">Number of rows and columns</td>
</tr>
<tr class="even">
<td align="left">mfcol</td>
<td align="left">Fill by columns</td>
<td align="left">Number of rows and columns</td>
</tr>
</tbody>
</table>
<p>mfrow combines plots filled by rows i.e it takes two arguments, the number of rows and number of columns and then starts filling the plots by row. Below is the syntax for mfrow.</p>
<pre class="r"><code># mfrow syntax
mfrow(number of rows, number of columns)</code></pre>
<p>Let us begin by combining 4 plots in 2 rows and 2 columns:</p>
</div>
<div id="libraries-code-data" class="section level3">
<h3>Libraries, Code &amp; Data</h3>
<p>All the data sets used in this post can be found <a href="https://github.com/rsquaredacademy/datasets">here</a> and code can be downloaded from <a href="https://gist.github.com/rsquaredacademy/8fc6a6d21c5ab8a0a68f11df51074a9d">here</a>.</p>
</div>
<div id="case-study-1" class="section level3">
<h3>Case Study 1</h3>
<p>Let us begin by combining 4 plots in 2 rows and 2 columns. The plots will be filled by rows as we are using the mfrow function:</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 4 graphs to be combined and filled by rows
par(mfrow = c(2, 2))
 
# specify the graphs to be combined
plot(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet1-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
<div id="case-study-2" class="section level3">
<h3>Case Study 2</h3>
<p>Combine 2 plots in 1 row and 2 columns.</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 2 graphs to be combined and filled by rows
par(mfrow = c(1, 2))
 
# specify the graphs to be combined
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet2-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
<div id="case-study-3" class="section level3">
<h3>Case Study 3</h3>
<p>Combine 2 plots in 2 rows and 1 column.</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 2 graphs to be combined and filled by rows
par(mfrow = c(2, 1))
 
# specify the graphs to be combined
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet3-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
<div id="case-study-4" class="section level3">
<h3>Case Study 4</h3>
<p>Combine 3 plots in 1 row and 3 columns.</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 3 graphs to be combined and filled by rows
par(mfrow = c(1, 3))
 
# specify the graphs to be combined
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet4-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
<div id="case-study-5" class="section level3">
<h3>Case Study 5</h3>
<p>Combine 3 plots in 3 rows and 1 column.</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 3 graphs to be combined and filled by rows
par(mfrow = c(3, 1))
 
# specify the graphs to be combined
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet5-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
<div id="mfcol" class="section level3">
<h3>mfcol</h3>
<p>mfcol combines plots filled by columns i.e it takes two arguments, the number of rows and number of columns and then starts filling the plots by columns. Below is the syntax for mfrow:</p>
<pre class="r"><code># mfcol syntax
mfcol(number of rows, number of columns)</code></pre>
<p>Let us begin by combining 4 plots in 2 rows and 2 columns:</p>
<div id="case-study-6" class="section level4">
<h4>Case Study 6</h4>
<p>Combine 3 plots in 3 rows and 1 column.</p>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 4 graphs to be combined and filled by columns 
par(mfcol = c(2, 2))
 
# specify the graphs to be combined
plot(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet6-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code> 
# restore the setting stored in init
par(init)</code></pre>
</div>
</div>
<div id="special-cases" class="section level3">
<h3>Special Cases</h3>
<p>What happens if we specify lesser or more number of graphs? In the next two examples, we will specify lesser or more number of graphs than we ask the par() function to combine. Let us see what happens in such instances:</p>
<p>Case 1: Lesser number of graphs specified
We will specify that 4 plots need to be combined in 2 rows and 2 columns but provide only 3 graphs.</p>
<p>Case 2: Extra graph specified
We will specify that 4 plots need to be combined in 2 rows and 2 columns but specify 6 graphs instead of 4.</p>
</div>
<div id="case-study-7" class="section level3">
<h3>Case Study 7</h3>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 4 graphs to be combined and filled by rows
par(mfrow = c(2, 2))
 
# specify the graphs to be combined
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
 
# restore the setting stored in init
par(init)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet7-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-8" class="section level3">
<h3>Case Study 8</h3>
<pre class="r"><code># store the current parameter settings in init
init &lt;- par(no.readonly=TRUE)
 
# specify that 4 graphs to be combined and filled by rows
par(mfrow = c(2, 2))
 
# specify the graphs to be combined
plot(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet8-1.png" width="672" style="display: block; margin: auto;" /></p>
<pre class="r"><code>plot(mtcars$disp, mtcars$mpg)
boxplot(mtcars$mpg)

# restore the setting stored in init
par(init)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet8-2.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="layout" class="section level3">
<h3>Layout</h3>
<p>At the core of the layout() function is a matrix. We communicate the structure in which the plots must be combined using a matrix. As such, the layout function is more flexible compared to the par() function.</p>
<table>
<thead>
<tr class="header">
<th align="left">Option</th>
<th align="left">Description</th>
<th align="left">Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">matrix</td>
<td align="left">matrix specifying location of plants</td>
<td align="left">matrix</td>
</tr>
<tr class="even">
<td align="left">widths</td>
<td align="left">width of columns</td>
<td align="left">vector</td>
</tr>
<tr class="odd">
<td align="left">heights</td>
<td align="left">height of rows</td>
<td align="left">vector</td>
</tr>
</tbody>
</table>
<p>Let us begin by combining 4 plots in a 2 row/2 column structure. We do this by creating a layout using the matrix function.</p>
</div>
<div id="case-study-1-1" class="section level3">
<h3>Case Study 1</h3>
<p>Combine 4 plots in 2 rows/2 columns filled by rows.</p>
<pre class="r"><code># specify the layout
# 4 plots to be combined in 2 row/ 2 columns and arranged by row
layout(matrix(c(1, 2, 3, 4), nrow = 2, byrow = TRUE))
 
# specify the 4 plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet9-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-2-1" class="section level3">
<h3>Case Study 2</h3>
<p>Combine 4 plots in 2 rows/2 columns filled by columns</p>
<p>To fill the plots by column, we specify byrow = FALSE in the matrix.</p>
<pre class="r"><code># specify the layout
# 4 plots to be combined in 2 row/ 2 columns and filled by columns
layout(matrix(c(1, 2, 3, 4), nrow = 2, byrow = FALSE))
 
# specify the 4 plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet10-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-3-1" class="section level3">
<h3>Case Study 3</h3>
<p>Combine 3 plots in 2 rows/2 columns filled by rows</p>
<p>The magic of the layout() function begins here. We want to combine 3 plots and the first plot should occupy both the columns in row 1 and the next 2 plots should be in row 2. If you look at the matrix below, 1 is specified twice and since the matrix is filled by row, it will occupy both the columns in the first row. Similarly the first plot will occupy the entire first row. It will be crystal clear when you see the plot.</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 1, 2, 3), nrow = 2, byrow = TRUE)
##      [,1] [,2]
## [1,]    1    1
## [2,]    2    3

# 3 plots to be combined in 2 row/ 2 columns and arranged by row
layout(matrix(c(1, 1, 2, 3), nrow = 2, byrow = TRUE))
 
# specify the 3 plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet11-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-4-1" class="section level3">
<h3>Case Study 4</h3>
<p>Combine 3 plots in 2 rows/2 columns filled by rows</p>
<p>The plots must be filled by rows and the third plot must occupy both the columns of the second row while the other two plots will be placed in the first row. The matrix would look like this:</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 2, 3, 3), nrow = 2, byrow = TRUE)
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    3

# 3 plots to be combined in 2 row/ 2 columns and arranged by row
layout(matrix(c(1, 2, 3, 3), nrow = 2, byrow = TRUE))
 
# specify the 3 plots
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet12-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-5-1" class="section level3">
<h3>Case Study 5</h3>
<p>Combine 3 plots in 2 rows/2 columns filled by columns</p>
<p>The plots must be filled by columns and the first plot must occupy both the rows of the first column while the other two plots will be placed in the second column in two rows. The matrix would look like this:</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 1, 2, 3), nrow = 2, byrow = FALSE)
##      [,1] [,2]
## [1,]    1    2
## [2,]    1    3

# 3 plots to be combined in 2 row/ 2 columns and arranged by columns
layout(matrix(c(1, 1, 2, 3), nrow = 2, byrow = FALSE))
 
# specify the 3 plots
hist(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet13-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-6-1" class="section level3">
<h3>Case Study 6</h3>
<p>Combine 3 plots in 2 rows/2 columns filled by columns</p>
<p>The plots must be filled by columns and the first plot must occupy both the rows of the second column while the other two plots will be placed in the first column in two rows. The matrix would look like this:</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 2, 3, 3), nrow = 2, byrow = FALSE)
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    3

# 3 plots to be combined in 2 row/ 2 columns and arranged by columns
layout(matrix(c(1, 2, 3, 3), nrow = 2, byrow = FALSE))
 
# specify the 3 plots
boxplot(mtcars$mpg)
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet14-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="widths" class="section level3">
<h3>Widths</h3>
<p>In all the layouts created so far, we have kept the size of the rows and columns equal. What if you want to modify the width and height of the columns and rows? The widths and heights arguments in the layout() function address the above mentioned issue. Let us check them out one by one: The widths argument is used for specifying the width of the columns. Based on the number of columns in the layout, you can specify the width of each column. Let us look at some examples.</p>
</div>
<div id="case-study-7-1" class="section level3">
<h3>Case Study 7</h3>
<p>Width of the 2nd column is twice the width of the 1st column</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 2, 3, 4), nrow = 2, byrow = TRUE)
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4

# 4 plots to be combined in 2 row/ 2 columns and arranged by columns
layout(matrix(c(1, 2, 3, 4), nrow = 2, byrow = TRUE), widths = c(1, 3))
 
# specify the plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet15-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="case-study-8-1" class="section level3">
<h3>Case Study 8</h3>
<p>Width of the 2nd column is twice that of the first and last column</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 2, 3, 4, 5, 6), nrow = 2, byrow = TRUE)
##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6

# 6 plots to be combined in 2 row/ 3 columns and filled by rows
layout(matrix(c(1, 2, 3, 4, 5, 6), nrow = 2, byrow = TRUE), widths = c(1, 2, 1))
 
# specify the plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet16-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="heights" class="section level3">
<h3>Heights</h3>
<p>The heights arguments is used to modify the height of the rows and based on the number of rows specified in the layout, we can specify the height of each row.</p>
</div>
<div id="case-study-9" class="section level3">
<h3>Case Study 9</h3>
<p>Height of the 2nd row is twice that of the first row</p>
<pre class="r"><code># 4 plots to be combined in 2 row/ 2 columns and filled by rows
layout(matrix(c(1, 2, 3, 4), nrow = 2, byrow = TRUE), heights= c(1, 2))
 
# specify the 4 plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet17-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="putting-it-all-together" class="section level3">
<h3>Putting it all togetherâ€¦</h3>
<p>Before we end this section, let us combine plots using both the widths and heights option</p>
<pre class="r"><code># specify the matrix
matrix(c(1, 2, 3, 4, 5, 6), nrow = 3, byrow = TRUE)
##      [,1] [,2]
## [1,]    1    2
## [2,]    3    4
## [3,]    5    6

# 6 plots to be combined in 3 row/ 2 columns and arranged by rows
layout(matrix(c(1, 2, 3, 4, 5, 6), nrow = 3, byrow = TRUE), heights= c(1, 2, 1),
widths = c(2, 1))
 
# specify the 6 plots
plot(mtcars$disp, mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)
plot(mtcars$mpg)
hist(mtcars$mpg)
boxplot(mtcars$mpg)</code></pre>
<p><img src="/post/2016-12-17-data-visualization-with-r-combining-plots_files/figure-html/facet18-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="summary" class="section level3">
<h3>Summary</h3>
</div>
